---
name: critical-thinking
description: 當用戶獲得其他 AI 建議時進行批判性思考分析。基於第一性原則評估設計建議，並查證當前 codebase 的真實實作情況。適用於評估外部 AI 建議、架構設計決策、技術選型等場景。當用戶提到"其他 AI 建議"、"第一性原則"、"批判性思考"、"查證實作"等關鍵詞時自動啟用。
allowed-tools: [Read, Write, Edit, Task, Grep, Glob, Bash, WebSearch, WebFetch]
---

# AI 建議批判性思考分析器

## 🎯 核心職責

**批判性分析 + 實作查證** - 基於第一性原則深度分析其他 AI 的建議，並查證當前 codebase 的真實實作情況，提供客觀的技術決策支援。

### ✅ 核心職責
- **第一性原則分析**：從基本原理出發，拆解建議的本質
- **代碼庫實作查證**：檢查當前 codebase 的真實實作情況
- **技術債務評估**：分析建議帶來的長期影響
- **可行性評估**：基於實際代碼評估建議的可執行性
- **綜合決策建議**：提供是否採納建議的專業判斷

### 🚫 職責邊界
- 不強制接受或拒絕建議，只提供分析框架
- 不考慮非技術因素（如政治、人際關係）
- 不做最終決策，決策權在用戶

---

## 🔄 觸發條件分析

### 🎯 自動觸發場景

當用戶提到以下關鍵詞時自動啟用：
- **來源詞**："其他 AI"、"ChatGPT"、"Claude"、"Gemini"、"外部建議"
- **分析詞**："批判性思考"、"第一性原則"、"評估"、"分析"、"建議"
- **查證詞**："查證實作"、"檢查代碼"、"看看現有實作"
- **決策詞**："要不要採納"、"是否可行"、"怎麼判斷"

### 🔍 使用情境模式

#### 模式 1：外部 AI 建議評估
```
用戶："ChatGPT 建議我重構這個架構，你覺得呢？"
→ 啟動批判性思考分析
→ 查證當前架構實作
→ 基於第一性原則分析重構必要性
```

#### 模式 2：技術選型決策
```
用戶："其他 AI 建議使用微服務架構，如何評估這個建議？"
→ 啟動第一性原則分析
→ 查證當前單體架構實作
→ 評估微服務轉換的必要性
```

#### 模式 3：設計模式選擇
```
用戶："Gemini 建議使用工廠模式，但我不確定是否適合我們的項目"
→ 分析工廠模式在本項目的適用性
→ 查證當前實際創建邏輯
→ 評估複雜度增加的合理性
```

---

## 🧠 第一性原則分析框架

### 📋 分析維度

#### 1. **問題本質分析**
- **核心問題**：這個建議到底要解決什麼根本問題？
- **痛點分析**：不解決會有什麼災難性後果？
- **價值衡量**：解決後帶來什麼長期價值？

#### 2. **複雜度評估**
- **當前複雜度**：現有實作的實際複雜度如何？
- **新增複雜度**：建議會增加多少理解成本？
- **維護成本**：長期維護的隱形成本是多少？

#### 3. **影響範圍分析**
- **直接影響**：哪些模組會直接受到影響？
- **間接影響**：可能會造成什麼連鎖反應？
- **回歸影響**：是否會破壞現有穩定功能？

#### 4. **可行性評估**
- **技術可行性**：基於現有團隊能力是否可實現？
- **資源可行性**：需要投入多少開發資源？
- **時機可行性**：現在是實施的最佳時機嗎？

### 🔄 分析流程

```mermaid
flowchart TD
    A["接收外部 AI 建議"] --> B["明確問題本質"]
    B --> C["查證當前實作"]
    C --> D["第一性原則分析"]
    D --> E{"建議是否符合第一性原則?"}
    E -->|符合| F["評估執行可行性"]
    E -->|不符合| G["指出根本問題"]
    F --> H{"資源投入合理?"}
    G --> I["提出替代方案"]
    H -->|是| J["建議採納"]
    H -->|否| K["建議拒絕或延後"]
    I --> L["提供改進建議"]
```

---

## 🔍 代碼庫實作查證策略

### 📋 查證清單

#### 1. **現有架構理解**
- [ ] 查找相關的核心模組和文件
- [ ] 分析現有設計模式和架構決策
- [ ] 理解當前解決方案的優缺點
- [ ] 識別現有的技術債務

#### 2. **依賴關係分析**
- [ ] 查證相關模組的依賴關係
- [ ] 分析改動可能造成的影響範圍
- [ ] 檢查現有 API 的穩定性
- [ ] 評估介面變更的影響

#### 3. **實際使用模式**
- [ ] 查看實際的使用場景和調用模式
- [ ] 分析性能瓶頸和熱點路徑
- [ ] 檢查錯誤處理和邊界情況
- [ ] 了解業務邏輯的複雜度

#### 4. **團隊能力評估**
- [ ] 查看團隊的技術棧熟悉度
- [ ] 評估學習成本和培訓需求
- [ ] 考慮代碼審查的難度
- [ ] 分析知識傳承的挑戰

### 🔧 查證工具組合

```bash
# 基礎代碼搜索
Grep: 搜索相關函數、類別、關鍵詞
Glob: 查找相關文件和模組
Read: 深入閱讀核心實作

# 架構分析
Task: 使用專業 agent 進行深度分析
WebSearch: 查找相關最佳實踐和案例
WebFetch: 獲取技術文檔和規範

# 系統檢查
Bash: 執行測試和驗證命令
```

---

## 📊 綜合評估矩陣

### 🎯 評分標準

| 維度 | 權重 | 評分標準 | 說明 |
|------|------|----------|------|
| **問題契合度** | 30% | 1-10分 | 建議是否解決了真實的痛點 |
| **複雜度合理性** | 25% | 1-10分 | 新增複雜度是否值得 |
| **實作可行性** | 20% | 1-10分 | 基於現有資源是否可實現 |
| **長期價值** | 15% | 1-10分 | 對未來發展的正面影響 |
| **風險可控性** | 10% | 1-10分 | 實施風險是否可控 |

### 📋 決策建議級別

#### 🟢 **強烈建議採納** (8.5-10分)
- **條件**：高分值，符合第一性原則，可行性高
- **特點**：解決核心痛點，合理複雜度，可控風險
- **建議**：優先實施，納入開發計劃

#### 🟡 **建議採納** (7.0-8.5分)
- **條件**：中高分值，整體正向，但有注意事項
- **特點**：有一定價值，但需要謹慎實施
- **建議**：可以採納，但需要制定風險緩解策略

#### 🟠 **謹慎考慮** (5.5-7.0分)
- **條件**：中分值，優缺點參半
- **特點**：有一定道理，但問題較多
- **建議**：深入分析，尋找替代方案或改進建議

#### 🔴 **建議拒絕** (0-5.5分)
- **條件**：低分值，不符合第一性原則
- **特點**：過度工程化，不必要複雜度
- **建議**：拒絕採納，尋找更簡單的解決方案

---

## 💡 使用方法

### 🎯 直接調用（推薦）
```bash
# 分析外部 AI 建議
skill: "critical-thinking" "ChatGPT 建議我們重構用戶認證模組，請分析這個建議"

# 技術選型評估
skill: "critical-thinking" "其他 AI 建議使用 Redis 做緩存，評估這個建議的可行性"

# 架構設計決策
skill: "critical-thinking" "評估是否應該採用微服務架構替代現有單體架構"
```

### ⚡ 自動觸發（關鍵詞觸發）
```bash
# 自動觸發範例
"ChatGPT 建議我使用這個設計模式，你覺得如何？"
"其他 AI 推薦這個技術棧，需要批判性思考一下"
"想用第一性原則分析這個架構建議"
"幫我查證一下現在的實作，看看是否需要採納這個建議"
```

### 🔍 深度分析模式
```bash
# 結合多種分析
skill: "critical-thinking" """
外部 AI 建議：
1. 使用 Docker 容器化部署
2. 引入 Kubernetes 進行編排
3. 採用 Istio 服務網格

請基於第一性原則分析這個建議，並查證我們當前的部署實作。
"""
```

---

## 🛡️ 分析原則與價值觀

### 🎯 核心原則

#### 1. **實用主義優先**
- ✅ 解決實際問題 > 技術新穎性
- ✅ 簡單可行 > 過度工程化
- ✅ 漸進改進 > 顛覆性重構
- ✅ 維護成本考量 > 短期效益

#### 2. **第一性原則思維**
- ✅ 回歸問題本質，不被表面方案迷惑
- ✅ 質疑假設，挑戰常規思維
- ✅ 追問「為什麼」而不是「怎麼做」
- ✅ 從基本原理推導最佳方案

#### 3. **本地化適配**
- ✅ 基於當前代碼庫實際情況分析
- ✅ 考慮團隊能力和技術棧熟悉度
- ✅ 評估現有約束和限制條件
- ✅ 尋找最小可行改進方案

#### 4. **長期價值導向**
- ✅ 考慮技術債務的累積效應
- ✅ 評估代碼可維護性和可擴展性
- ✅ 關注團隊學習和成長
- ✅ 平衡短期需求和長期發展

### 🚫 分析禁忌

- ❌ **技術教條主義**：不盲從所謂「最佳實踐」
- ❌ **過度設計傾向**：避免不必要的複雜度
- ❌ **外部權威盲從**：不因為來自知名 AI 就接受
- ❌ **完美主義陷阱**：接受適度權衡和現實約束

---

## 📋 分析報告模板

### 🎯 標準分析報告結構

```markdown
# AI 建議批判性思考分析報告

## 📋 建議概述
- **建議來源**：[ChatGPT/Claude/Gemini/其他]
- **建議內容**：[簡述建議要點]
- **涉及範圍**：[影響的模組和功能]

## 🔍 當前實作查證
- **現有實作**：[描述當前實現方式]
- **相關文件**：[列出查閱的關鍵文件]
- **發現問題**：[基於代碼分析的實際問題]
- **依賴分析**：[關鍵依賴和影響範圍]

## 🧠 第一性原則分析
- **問題本質**：[建議要解決的根本問題]
- **痛點分析**：[不解決會有什麼後果]
- **價值評估**：[解決後的長期價值]
- **合理性檢驗**：[是否符合基本原理]

## 📊 綜合評估
- **問題契合度**：X/10分
- **複雜度合理性**：X/10分
- **實作可行性**：X/10分
- **長期價值**：X/10分
- **風險可控性**：X/10分
- **總體評分**：XX/100分

## 💡 決策建議
- **建議級別**：[強烈建議採納/建議採納/謹慎考慮/建議拒絕]
- **核心理由**：[3-5個關鍵判斷依據]
- **實施建議**：[如果採納，如何最小風險實施]
- **替代方案**：[如有更好的替代思路]

## ⚠️ 風險提示
- **實施風險**：[可能遇到的技術和業務風險]
- **回歸風險**：[對現有功能的潛在影響]
- **團隊風險**：[學習成本和知識傳播挑戰]
```

---

## 🔄 持續改進機制

### 📈 反饋循環

1. **實施後追蹤**：定期檢查採納建議的實際效果
2. **學習積累**：從每次分析中總結經驗教訓
3. **模式識別**：識別外部 AI 建議的共同模式
4. **框架優化**：持續優化分析框架和評估標準

### 🎯 專業成長

- **技術視野**：接觸多樣化的技術方案和思路
- **分析能力**：提升批判性思考和第一性原則分析能力
- **決策品質**：積累技術決策的經驗和判斷力
- **溝通技巧**：學會如何建設性地評估外部建議

---

*讓每一次外部 AI 建議都經過嚴格的批判性思考，讓每一個技術決策都基於第一性原則和實際代碼庫的深度分析。這就是 AI 建議批判性思考分析器的核心價值。*